<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org"
      th:replace="~{modules/layout :: html(title = ${theme.config.photos.photos_title ?: '全部相册'}+' - '+${site.title},htmlType = author,header = null,leftSidebar = true,content = ~{::content}, head = null, footer = null)}">
<th:block th:fragment="content">
    <body>
    <div id="Joe">
        <th:block th:replace="~{modules/macro/navbar :: navbar}" />
        <!--首页大图-->
        <th:block th:if="${theme.config.beauty.enable_big_banner} and ${theme.config.tags.larger_tabs_image == true}">
            <th:block th:replace="~{modules/macro/big_banner :: big_banner(${title})}" />
        </th:block>
        <div class="joe_container joe_main_container page-tag"
             th:classappend="${theme.config.theme.enable_show_in_up ? 'animated fadeIn':''}">
            <div class="joe_main">
                <div class="joe_index">
                    <div class="joe_index__title">
                        <ul class="joe_index__title-title pl-15">
                            <li class="item active">[[${theme.config.photos.photos_title ?: '全部相册'}]]</li>
                        </ul>
                    </div>
                    <div class="joe_index__hot categories">
                        <ul th:class="'joe_index__hot-list'+${theme.config.photos.photos_type  == 'card'?' ':'-tag'}+ ' animated fadeIn'">
                            <th:block th:if="${theme.config.photos.photos_type=='card'}">
                                <li class="item" th:each="group : ${photoFinder.groupBy()}">
                                    <a class="link" th:href="'/photos?group='+${group.metadata.name}" th:title="${group.spec.displayName}">
                                        <figure class="inner">
                                            <img
                                                    width="100%"
                                                    height="120"
                                                    class="image lazyload"
                                                    th:with="cover = ${#annotations.get(group, 'cover') ?: theme.config.basic.random_img_api_url}"
                                                    th:data-src="${cover}"
                                                    th:srcset="|${thumbnail.gen(cover, 's')} 400w,
                                                                  ${thumbnail.gen(cover, 'm')} 800w,
                                                                  ${thumbnail.gen(cover, 'l')} 1200w,
                                                                  ${thumbnail.gen(cover, 'xl')} 1600w|"
                                                    sizes="(max-width: 1600px) 100vw, 1600px"
                                                    th:src="${theme.config.home.lazyload_thumbnail}"
                                                    th:alt="${group.spec.displayName}"
                                                    onerror="Joe.errorImg(this, 'HomeErrImg')"
                                            />
                                            <figcaption class="title">[[${group.spec.displayName}]]</figcaption>
                                        </figure>
                                    </a>
                                </li>
                            </th:block>
                            <th:block th:if="${theme.config.photos.photos_type=='tag'}">
                                <li class="item" th:each="group : ${photoFinder.groupBy()}">
                                    <a class="link" th:href="'/photos?group='+${group.metadata.name}" th:title="${group.spec.displayName}">
                                        <span>[[${group.spec.displayName}]]</span>
                                    </a>
                                </li>
                            </th:block>
                        </ul>
                    </div>
                </div>
            </div>
            <th:block th:if="${theme.config.aside.enable_photos_aside}">
                <th:block th:replace="~{modules/common/aside :: aside}" />
            </th:block>
        </div>
        <th:block th:replace="~{modules/common/actions :: actions}" />
        <th:block th:replace="~{modules/common/footer :: footer}" />
    </div>
    <th:block th:replace="~{modules/macro/tail :: tail}" />
    </body>
</th:block>
</html>
